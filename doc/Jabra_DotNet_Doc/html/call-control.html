<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Jabra SDK V2 .Net/C#: Call Control</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="JabraLogo.jpg"/></td>
  <td id="projectalign">
   <div id="projectname">Jabra SDK V2 .Net/C#
   </div>
   <div id="projectbrief">API Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Call Control </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_D__a_1_s_NextGenSDK_Document_call_control"></a> The term <em>call control</em> covers the integration between a headset and softphone software on a PC that involve incoming and outgoing calls.</p>
<p >Some of the possible integration points are:</p>
<ul>
<li>Reflecting the <b>state of a call</b> (active call, hold, inactive).</li>
<li>Reflecting the <b>microphone mute state</b> (muted or unmuted).</li>
<li>Changing states (via button presses):<ul>
<li><b>Accepting</b> or <b>rejecting</b> calls.</li>
<li>Putting a <b>call on hold</b> or <b>resuming</b> a held call.</li>
<li><b>Muting</b> or <b>unmuting</b> the microphone.</li>
<li><b>Redial</b> or <b>dial</b>.</li>
</ul>
</li>
<li>Setting the <b>ringer on</b> or <b>off</b> (indicated by either audio or blinking LEDs on the device).</li>
</ul>
<p >The details of the call control functions are available <a class="el" href="group__g-phone.html">here</a></p>
<p >The first step before changing any of the devices' states is acquiring a <em>call lock</em>. While it is possible to use the Jabra SDK to modify a device's state without acquiring a call lock, using the lock is a <b>hard requirement</b> to make sure that two softphone products are not clashing with each other and invalidating the state of a headset that is in use by another softphone.</p>
<p >Once a call is finished, it is equally important to release the call lock. Now other softphone products (or subsequent phone calls to your product) can successfully acquire (or reacquire) the call lock for the device.</p>
<p >Depending on the situation, the lock might already be acquired (usually when executing multiple features in quick succession), so an internal check for the lock should <b>always</b> be the first step.</p>
<blockquote class="doxtable">
<p >&zwj;<b>[Note]</b> If acquiring the call lock fails, it is usually because another softphone is currently using the device. </p>
</blockquote>
<p>The following diagrams illustrate how to use the call lock functions <code><a class="el" href="group__g-phone.html#gaae5d1aeda462ea2bd40e10ede2d372f4" title="Get lock for a particular device.">Jabra_GetLock()</a></code>, <code><a class="el" href="group__g-phone.html#ga625635d958e0669093df828906f85b40" title="Release the lock for a particular device.">Jabra_ReleaseLock()</a></code> and <code><a class="el" href="group__g-phone.html#ga85bca40d91fd674b6cb40c3982ddc134" title="Check if we have lock on device.">Jabra_IsLocked()</a></code> when doing call control.</p>
<p ><img src="../Linux/images/Starting and ending a call - app initiated.svg" alt="How to use call lock when starting and ending a call" style="pointer-events: none;" class="inline"/></p>
<p >Figure 1: How to use call lock when starting and ending a call</p>
<p ><img src="../Linux/images/Before performing call control.svg" alt="Call lock must be acquired before any call control operation" style="pointer-events: none;" class="inline"/></p>
<p >Figure 2: Call lock must be acquired before any call control operation</p>
<h4><a class="anchor" id="autotoc_md0"></a>
Off-Hook</h4>
<p >The following diagrams illustrate how to implement off-hook/on-hook scenarios in your softphone. Proper call lock handling (see above) is implied in the Softphone-SDK integration.</p>
<h5>Softphone initiated</h5>
<p ><img src="../Linux/images/On-hook   off-hook, softphone initiated.svg" alt="Softphone OffHook initiation" style="pointer-events: none;" class="inline"/></p>
<p >Figure 3: Softphone initiated OffHook/OnHook</p>
<h5>User initiated</h5>
<p ><img src="../Linux/images/On-hook   off-hook, user initiated.svg" alt="User OffHook initiation" style="pointer-events: none;" class="inline"/></p>
<p >Figure 4: User initiated OffHook/OnHook</p>
<h4><a class="anchor" id="autotoc_md1"></a>
Mute</h4>
<p >The following diagrams illustrate how to implement mute/unmute scenarios in your softphone.</p>
<h5>Softphone initiated</h5>
<p ><img src="../Linux/images/Mute, softphone initiated.svg" alt="Softphone mute toggle" style="pointer-events: none;" class="inline"/></p>
<p >Figure 5: Softphone mute toggle</p>
<h5>User initiated</h5>
<p ><img src="../Linux/images/Mute, user initiated.svg" alt="Mute toggle, user initiated" style="pointer-events: none;" class="inline"/></p>
<p >Figure 6: User mute toggle</p>
<h4><a class="anchor" id="autotoc_md2"></a>
Hold</h4>
<p >The following diagrams illustrate how to implement hold/resume call scenarios in your softphone.</p>
<h5>Softphone initiated</h5>
<p ><img src="../Linux/images/Hold resume, softphone initiated.svg" alt="Softphone hold/resume" style="pointer-events: none;" class="inline"/></p>
<p >Figure 7: Softphone initiated hold/resume</p>
<h5>User initiated</h5>
<p ><img src="../Linux/images/Hold resume, user initiated.svg" alt="User hold/resume" style="pointer-events: none;" class="inline"/></p>
<p >Figure 8: User initiated hold/resume</p>
<h3><a class="anchor" id="autotoc_md3"></a>
Remote MMI â€“ button takeover</h3>
<p ><img src="../Linux/images/Button takeover.svg" alt="Button takeover" style="pointer-events: none;" class="inline"/></p>
<p >Figure 9: Button takeover</p>
<h3><a class="anchor" id="autotoc_md4"></a>
Child device support</h3>
<p ><img src="../Linux/images/Dongle headset pairing and child device handling.svg" alt="Child device handling" style="pointer-events: none;" class="inline"/></p>
<p >Figure 10: Child device handling </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
<a href="http://www.google.com">
</a> 
</small></address>
</body>
</html>